{"version":3,"sources":["../src/fpb/CalText.tsx"],"names":["CalText","width","height","store","timeout","opacity","transition","showCalText","hideCalText","clearTimeout","setTimeout","position","zIndex","top","right","color","fontWeight","Math","round"],"mappings":";;;;;;;AAAA;;AAEA;;;;;;AAUA,IAAMA,OAAgC,GAAG,SAAnCA,OAAmC,OAAuB;AAAA,MAApBC,KAAoB,QAApBA,KAAoB;AAAA,MAAbC,MAAa,QAAbA,MAAa;AAC9D,MAAMC,KAAK,GAAG,kCAAc;AAAA,WAAO;AACjCC,MAAAA,OAAO,EAAE,IADwB;AAClB;;AACf;;;AAGAC,MAAAA,OAAO,EAAE,CALwB;AAMjCC,MAAAA,UAAU,EAAE,IANqB;AAOjCC,MAAAA,WAPiC,yBAOnB;AACZJ,QAAAA,KAAK,CAACE,OAAN,GAAgB,CAAhB;AACAF,QAAAA,KAAK,CAACG,UAAN,GAAmB,IAAnB;AACD,OAVgC;AAWjCE,MAAAA,WAXiC,yBAWnB;AACZL,QAAAA,KAAK,CAACE,OAAN,GAAgB,CAAhB,CADY,CAEZ;AACD;AAdgC,KAAP;AAAA,GAAd,CAAd;AAgBA,wBAAU,YAAM;AACdI,IAAAA,YAAY,CAACN,KAAK,CAACC,OAAP,CAAZ;AACAD,IAAAA,KAAK,CAACI,WAAN;AACAJ,IAAAA,KAAK,CAACC,OAAN,GAAgBM,UAAU,CAAC,YAAM;AAC/BP,MAAAA,KAAK,CAACK,WAAN;AACD,KAFyB,EAEvB,IAFuB,CAA1B;AAGD,GAND,EAMG,CAACN,MAAD,EAASD,KAAT,CANH;AAOA,SACE,6BAAC,uBAAD,QACG;AAAA,WACC;AACE,MAAA,KAAK,EAAE;AACLU,QAAAA,QAAQ,YADH;AAELC,QAAAA,MAAM,EAAE,CAFH;AAGLC,QAAAA,GAAG,EAAE,CAHA;AAILC,QAAAA,KAAK,EAAE,EAJF;AAKLR,QAAAA,UAAU,EAAEH,KAAK,CAACG,UALb;AAMLD,QAAAA,OAAO,EAAEF,KAAK,CAACE,OANV;AAOLU,QAAAA,KAAK,uBAPA;AAQLC,QAAAA,UAAU;AARL;AADT,OAYIf,KAAK,IAAIC,MAAT,cAAsBe,IAAI,CAACC,KAAL,CAAWjB,KAAX,CAAtB,cAA2CgB,IAAI,CAACC,KAAL,CAAWhB,MAAX,CAA3C,CAAD,IACED,KAAK,cAAQgB,IAAI,CAACC,KAAL,CAAWjB,KAAX,CAAR,OADP,IAEEC,MAAM,cAAOe,IAAI,CAACC,KAAL,CAAWhB,MAAX,CAAP,OAdX,CADD;AAAA,GADH,CADF;AAsBD,CA9CD;;eA+CeF,O","sourcesContent":["import { useLocalStore, useObserver, Observer } from 'mobx-react-lite';\r\nimport { Tag } from 'antd';\r\nimport { useEffect } from 'react';\r\nimport React from 'react';\r\n\r\ninterface CalTextProps {\r\n  /**\r\n   * 计量宽高\r\n   */\r\n  height?: number;\r\n  width?: number;\r\n}\r\nconst CalText: React.SFC<CalTextProps> = ({ width, height }) => {\r\n  const store = useLocalStore(() => ({\r\n    timeout: null, //计量维度定时器\r\n    /**\r\n     * 计量维度的透明度\r\n     */\r\n    opacity: 0,\r\n    transition: null,\r\n    showCalText() {\r\n      store.opacity = 1;\r\n      store.transition = null;\r\n    },\r\n    hideCalText() {\r\n      store.opacity = 0;\r\n      // store.transition= `opacity .5s`;\r\n    },\r\n  }));\r\n  useEffect(() => {\r\n    clearTimeout(store.timeout);\r\n    store.showCalText();\r\n    store.timeout = setTimeout(() => {\r\n      store.hideCalText();\r\n    }, 1000);\r\n  }, [height, width]);\r\n  return (\r\n    <Observer>\r\n      {() => (\r\n        <div\r\n          style={{\r\n            position: `absolute`,\r\n            zIndex: 2,\r\n            top: 0,\r\n            right: 10,\r\n            transition: store.transition,\r\n            opacity: store.opacity,\r\n            color: `rgba(0, 0, 0, 0.65)`,\r\n            fontWeight: `bold`,\r\n          }}\r\n        >\r\n          {(width && height && `${Math.round(width)}x${Math.round(height)}`) ||\r\n            (width &&  `${Math.round(width)}px`) ||\r\n            (height && `${Math.round(height)}px`)}\r\n        </div>\r\n      )}\r\n    </Observer>\r\n  );\r\n};\r\nexport default CalText;\r\n"],"file":"CalText.js"}