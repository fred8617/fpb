{"version":3,"file":"CalText.js","names":["CalText","width","height","store","useLocalStore","timeout","opacity","transition","showCalText","hideCalText","useEffect","clearTimeout","setTimeout","position","zIndex","top","right","color","fontWeight","Math","round"],"sources":["../src/fpb/CalText.tsx"],"sourcesContent":["import { useLocalStore, useObserver, Observer } from 'mobx-react-lite';\nimport { Tag } from 'antd';\nimport { useEffect } from 'react';\nimport React from 'react';\n\ninterface CalTextProps {\n  /**\n   * 计量宽高\n   */\n  height?: number;\n  width?: number;\n}\nconst CalText: React.SFC<CalTextProps> = ({ width, height }) => {\n  const store = useLocalStore(() => ({\n    timeout: null, //计量维度定时器\n    /**\n     * 计量维度的透明度\n     */\n    opacity: 0,\n    transition: null,\n    showCalText() {\n      store.opacity = 1;\n      store.transition = null;\n    },\n    hideCalText() {\n      store.opacity = 0;\n      // store.transition= `opacity .5s`;\n    },\n  }));\n  useEffect(() => {\n    clearTimeout(store.timeout);\n    store.showCalText();\n    store.timeout = setTimeout(() => {\n      store.hideCalText();\n    }, 1000);\n  }, [height, width]);\n  return (\n    <Observer>\n      {() => (\n        <div\n          style={{\n            position: `absolute`,\n            zIndex: 2,\n            top: 0,\n            right: 10,\n            transition: store.transition,\n            opacity: store.opacity,\n            color: `rgba(0, 0, 0, 0.65)`,\n            fontWeight: `bold`,\n          }}\n        >\n          {(width && height && `${Math.round(width)}x${Math.round(height)}`) ||\n            (width &&  `${Math.round(width)}px`) ||\n            (height && `${Math.round(height)}px`)}\n        </div>\n      )}\n    </Observer>\n  );\n};\nexport default CalText;\n"],"mappings":";;;;;;;AAAA;AAEA;AAAkC;AAAA;AAUlC,IAAMA,OAAgC,GAAG,SAAnCA,OAAgC,OAA0B;EAAA,IAApBC,KAAK,QAALA,KAAK;IAAEC,MAAM,QAANA,MAAM;EACvD,IAAMC,KAAK,GAAG,IAAAC,4BAAa,EAAC;IAAA,OAAO;MACjCC,OAAO,EAAE,IAAI;MAAE;MACf;AACJ;AACA;MACIC,OAAO,EAAE,CAAC;MACVC,UAAU,EAAE,IAAI;MAChBC,WAAW,yBAAG;QACZL,KAAK,CAACG,OAAO,GAAG,CAAC;QACjBH,KAAK,CAACI,UAAU,GAAG,IAAI;MACzB,CAAC;MACDE,WAAW,yBAAG;QACZN,KAAK,CAACG,OAAO,GAAG,CAAC;QACjB;MACF;IACF,CAAC;EAAA,CAAC,CAAC;;EACH,IAAAI,gBAAS,EAAC,YAAM;IACdC,YAAY,CAACR,KAAK,CAACE,OAAO,CAAC;IAC3BF,KAAK,CAACK,WAAW,EAAE;IACnBL,KAAK,CAACE,OAAO,GAAGO,UAAU,CAAC,YAAM;MAC/BT,KAAK,CAACM,WAAW,EAAE;IACrB,CAAC,EAAE,IAAI,CAAC;EACV,CAAC,EAAE,CAACP,MAAM,EAAED,KAAK,CAAC,CAAC;EACnB,oBACE,6BAAC,uBAAQ,QACN;IAAA,oBACC;MACE,KAAK,EAAE;QACLY,QAAQ,YAAY;QACpBC,MAAM,EAAE,CAAC;QACTC,GAAG,EAAE,CAAC;QACNC,KAAK,EAAE,EAAE;QACTT,UAAU,EAAEJ,KAAK,CAACI,UAAU;QAC5BD,OAAO,EAAEH,KAAK,CAACG,OAAO;QACtBW,KAAK,uBAAuB;QAC5BC,UAAU;MACZ;IAAE,GAEAjB,KAAK,IAAIC,MAAM,cAAOiB,IAAI,CAACC,KAAK,CAACnB,KAAK,CAAC,cAAIkB,IAAI,CAACC,KAAK,CAAClB,MAAM,CAAC,CAAE,IAC9DD,KAAK,cAAQkB,IAAI,CAACC,KAAK,CAACnB,KAAK,CAAC,OAAK,IACnCC,MAAM,cAAOiB,IAAI,CAACC,KAAK,CAAClB,MAAM,CAAC,OAAK,CACnC;EAAA,CACP,CACQ;AAEf,CAAC;AAAC,eACaF,OAAO;AAAA"}