{"version":3,"sources":["../src/fpb/FormConsumerComponent.tsx"],"names":["Item","FormConsumerComponent","item","component","$id","i","label","id","trim","form","renderComponent","getFieldDecorator"],"mappings":";;;;;;;;;;;AAAA;;AAEA;;AACA;;;;;;;;IAGQA,I,iBAAAA,I;AACR;;;;AAaA,IAAMC,qBAAsD,GAAG,SAAzDA,qBAAyD,OAGzD;AAAA,MAFJC,IAEI,QAFJA,IAEI;AAAA,MADJC,SACI,QADJA,SACI;AACJ,wBAAU,YAAM,CAEf,CAFD,EAEG,EAFH;AAIA,SACE,6BAAC,uBAAD,QACG,YAAM;AAAA,QACGC,GADH,GACqBF,IADrB,CACGE,GADH;AAAA,QACQC,CADR,GACqBH,IADrB,CACQG,CADR;AAAA,QACWC,KADX,GACqBJ,IADrB,CACWI,KADX;AAEL,QAAMC,EAAE,GAAIH,GAAG,IAAIA,GAAG,CAACI,IAAJ,EAAR,IAAuBH,CAAlC;AACA,WACE,6BAAC,qBAAD,QACG,iBAAc;AAAA,UAAXI,IAAW,SAAXA,IAAW;AACb,UAAIC,eAAe,GAAGD,IAAI,CAACE,iBAAL,CAAuBJ,EAAvB,EAA2BJ,SAA3B,CAAtB;;AACA,UAAIG,KAAJ,EAAW;AACTI,QAAAA,eAAe,GACb,kDACE,6BAAC,IAAD;AAAM,UAAA,KAAK,EAAEJ;AAAb,WAAqBI,eAArB,CADF,CADF;AAKD;;AACD,aAAO,4DAAGA,eAAH,CAAP;AACD,KAXH,CADF;AAeD,GAnBH,CADF;AAuBD,CA/BD;;eAiCeT,qB","sourcesContent":["import { SFC, useEffect } from 'react';\r\nimport { Form } from 'antd';\r\nimport { useObserver, Observer } from 'mobx-react-lite';\r\nimport { Consumer } from './FormContext';\r\nimport { FPBItem } from './useFPBStore';\r\nimport React from 'react';\r\nconst { Item } = Form;\r\n/**\r\n * FPB表单元素\r\n */\r\ninterface FormConsumerComponentProps {\r\n  /**\r\n   * 传入元素\r\n   */\r\n  item: FPBItem;\r\n  /**\r\n   * 传入的表单组件\r\n   */\r\n  component: React.ReactElement;\r\n}\r\nconst FormConsumerComponent: SFC<FormConsumerComponentProps> = ({\r\n  item,\r\n  component,\r\n}) => {\r\n  useEffect(() => {\r\n    console.log('FormConsumerComponentProps');\r\n  }, []);\r\n\r\n  return (\r\n    <Observer>\r\n      {() => {\r\n        const { $id, i, label } = item;\r\n        const id = ($id && $id.trim()) || i;\r\n        return (\r\n          <Consumer>\r\n            {({ form }) => {\r\n              let renderComponent = form.getFieldDecorator(id)(component);\r\n              if (label) {\r\n                renderComponent = (\r\n                  <Form>\r\n                    <Item label={label}>{renderComponent}</Item>\r\n                  </Form>\r\n                );\r\n              }\r\n              return <>{renderComponent}</>;\r\n            }}\r\n          </Consumer>\r\n        );\r\n      }}\r\n    </Observer>\r\n  );\r\n};\r\n\r\nexport default FormConsumerComponent;\r\n"],"file":"FormConsumerComponent.js"}