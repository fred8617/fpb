{"version":3,"file":"FormConsumerComponent.js","names":["Item","FormConsumerComponent","item","component","useEffect","$id","i","label","id","trim","form","renderComponent","getFieldDecorator"],"sources":["../src/fpb/FormConsumerComponent.tsx"],"sourcesContent":["import { SFC, useEffect } from 'react';\nimport { Form } from 'antd';\nimport { useObserver, Observer } from 'mobx-react-lite';\nimport { Consumer } from './FormContext';\nimport { FPBItem } from './useFPBStore';\nimport React from 'react';\nconst { Item } = Form;\n/**\n * FPB表单元素\n */\ninterface FormConsumerComponentProps {\n  /**\n   * 传入元素\n   */\n  item: FPBItem;\n  /**\n   * 传入的表单组件\n   */\n  component: React.ReactElement;\n}\nconst FormConsumerComponent: SFC<FormConsumerComponentProps> = ({\n  item,\n  component,\n}) => {\n  useEffect(() => {\n    console.log('FormConsumerComponentProps');\n  }, []);\n\n  return (\n    <Observer>\n      {() => {\n        const { $id, i, label } = item;\n        const id = ($id && $id.trim()) || i;\n        return (\n          <Consumer>\n            {({ form }) => {\n              let renderComponent = form.getFieldDecorator(id)(component);\n              if (label) {\n                renderComponent = (\n                  <Form>\n                    <Item label={label}>{renderComponent}</Item>\n                  </Form>\n                );\n              }\n              return <>{renderComponent}</>;\n            }}\n          </Consumer>\n        );\n      }}\n    </Observer>\n  );\n};\n\nexport default FormConsumerComponent;\n"],"mappings":";;;;;;;;;AAAA;AAEA;AACA;AAAyC;AAAA;AAAA;AAGzC,IAAQA,IAAI,iBAAJA,IAAI;AACZ;AACA;AACA;;AAWA,IAAMC,qBAAsD,GAAG,SAAzDA,qBAAsD,OAGtD;EAAA,IAFJC,IAAI,QAAJA,IAAI;IACJC,SAAS,QAATA,SAAS;EAET,IAAAC,gBAAS,EAAC,YAAM,CAEhB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACE,6BAAC,uBAAQ,QACN,YAAM;IACL,IAAQC,GAAG,GAAeH,IAAI,CAAtBG,GAAG;MAAEC,CAAC,GAAYJ,IAAI,CAAjBI,CAAC;MAAEC,KAAK,GAAKL,IAAI,CAAdK,KAAK;IACrB,IAAMC,EAAE,GAAIH,GAAG,IAAIA,GAAG,CAACI,IAAI,EAAE,IAAKH,CAAC;IACnC,oBACE,6BAAC,qBAAQ,QACN,iBAAc;MAAA,IAAXI,IAAI,SAAJA,IAAI;MACN,IAAIC,eAAe,GAAGD,IAAI,CAACE,iBAAiB,CAACJ,EAAE,CAAC,CAACL,SAAS,CAAC;MAC3D,IAAII,KAAK,EAAE;QACTI,eAAe,gBACb,+DACE,6BAAC,IAAI;UAAC,KAAK,EAAEJ;QAAM,GAAEI,eAAe,CAAQ,CAE/C;MACH;MACA,oBAAO,4DAAGA,eAAe,CAAI;IAC/B,CAAC,CACQ;EAEf,CAAC,CACQ;AAEf,CAAC;AAAC,eAEaV,qBAAqB;AAAA"}