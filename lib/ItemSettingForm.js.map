{"version":3,"sources":["../src/FPB/ItemSettingForm.tsx"],"names":["Option","OptGroup","TreeNode","Panel","Size","getFormItemCol","width","col","labelCol","span","wrapperCol","getCol","size","LARGE","MIDDLE","SMALL","create","Item","ItemSettingForm","props","form","item","initialKeyCounter","keyCounter","setKeyCounter","recordItem","current","resetFields","getFieldsValue","componentProps","Object","keys","length","setFieldsValue","initialValue","recurseEverything","getFieldDecorator","getFieldValue","renderTypeTreeNode","component","children","id","label","map","componentTypeDec","componentId","autoHeightDec","valuePropName","autoHeight","isFormFieldDec","isFormField","$idDec","$id","labelDec","flatComponents","formField","sortProps","destination","source","values","arr","droppableId","dragValue","index","splice","deleteProp","propName","createComponentPropsForm","prefix","componentPropsEntries","entries","filter","prop","type","indexOf","i","name","setting","options","rules","components","mapedArr","renderAfterAddButtonComponent","provided","droppableProps","innerRef","p","pi","key","draggableProps","margin","dragHandleProps","_","placeholder","color","cursor","e","push","propsDecModels","parentStore","settingWidth","maxHeight","overflow","componentGroup","groupOrComponent","displayName","React","memo","onValuesChange","changedValues","allValues","field","value","onItemTypeChange","onItemPropsChange","onFieldsChange","fields"],"mappings":"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","sourcesContent":["import {\r\n  Form,\r\n  Select,\r\n  TreeSelect,\r\n  Input,\r\n  Switch,\r\n  Tooltip,\r\n  Icon,\r\n  Button,\r\n  Radio,\r\n  Collapse,\r\n  Row,\r\n  Col,\r\n  Divider,\r\n  Card,\r\n  Spin,\r\n} from 'antd';\r\nimport { FormComponentProps } from 'antd/lib/form';\r\nimport {\r\n  ComponentGroup,\r\n  ComponentType,\r\n  FPBItem,\r\n  ComponentProps,\r\n} from './useFPBStore';\r\nimport React, { useState, useEffect, Fragment, useRef } from 'react';\r\nimport { get } from 'lodash';\r\nimport CommonInput from './CommonInput';\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport useSizeMe from './useSizeMe';\r\nimport { toJS } from 'mobx';\r\nimport { getObjectKeysWhenIsArray } from './utils';\r\nimport FPBForm from './FPBForm';\r\nimport GraphqlEditor from './GraphqlEditor';\r\nimport { observer, Observer } from 'mobx-react-lite';\r\n\r\nconst { Option, OptGroup } = Select;\r\nconst { TreeNode } = TreeSelect;\r\nconst { Panel } = Collapse;\r\nenum Size {\r\n  SMALL,\r\n  MIDDLE,\r\n  LARGE,\r\n}\r\n// xs\t<576\r\n// sm\t≥576\r\n// md\t≥768\r\n// lg\t≥992\r\n// xl\t≥1200\r\n// xxl ≥1600\r\nconst getFormItemCol = (width: number) => {\r\n  const col = { labelCol: { span: 24 }, wrapperCol: { span: 24 } };\r\n  // if (width >= 256) {\r\n  //   col.labelCol.span = 10;\r\n  //   col.wrapperCol.span = 14;\r\n  // }\r\n  return col;\r\n};\r\nconst getCol = (width: number, size: Size) => {\r\n  const col = { span: 24 };\r\n  if (size === Size.LARGE) {\r\n    return col;\r\n  } else if (size === Size.MIDDLE) {\r\n    if (width >= 576 && width < 1200) {\r\n      col.span = 8;\r\n      return col;\r\n    } else if (width >= 1200) {\r\n      col.span = 6;\r\n      return col;\r\n    }\r\n    return col;\r\n  } else if (size === Size.SMALL) {\r\n    if (width > 256 && width < 576) {\r\n      col.span = 12;\r\n      return col;\r\n    } else if (width >= 576 && width < 1200) {\r\n      col.span = 6;\r\n      return col;\r\n    } else if (width >= 1200) {\r\n      col.span = 4;\r\n      return col;\r\n    }\r\n    return col;\r\n  }\r\n};\r\nexport interface ItemSettingProps {\r\n  /**\r\n   * 分组组件\r\n   */\r\n  componentGroup: (ComponentGroup | ComponentType)[];\r\n  /**\r\n   * 平铺组件方便查找属性\r\n   */\r\n  flatComponents: { [id: string]: ComponentType };\r\n  /**\r\n   * item类型\r\n   * @param id id\r\n   */\r\n  onItemTypeChange(id: string);\r\n  /**\r\n   * item的属性改变\r\n   * @param field 字段\r\n   * @param value 值\r\n   */\r\n  onItemPropsChange(field: string, value: any);\r\n}\r\nexport interface ItemSettingFormProps\r\n  extends FormComponentProps,\r\n    ItemSettingProps {\r\n  /**\r\n   * 编辑中数据，用于初始化值\r\n   */\r\n  item: FPBItem;\r\n  parentStore: any;\r\n  components: ComponentType[];\r\n  /**\r\n   * 初始计数器\r\n   */\r\n  initialKeyCounter;\r\n}\r\n\r\nconst { create, Item } = Form;\r\n\r\nconst ItemSettingForm: React.SFC<ItemSettingFormProps> = observer(props => {\r\n  // const [render, setRender] = useState(false);\r\n  const { form, item } = props;\r\n  console.log('ItemSettingForm', toJS(props));\r\n  const [keyCounter, setKeyCounter] = useState(() => props.initialKeyCounter);\r\n  const recordItem = useRef(item);\r\n  // useEffect(() => {\r\n  //   setTimeout(() => setRender(true), 300);\r\n  // }, []);\r\n  useEffect(() => {\r\n    if (recordItem.current !== item) {\r\n      form.resetFields();\r\n      recordItem.current = item;\r\n    }\r\n  }, [item]);\r\n  useEffect(() => {\r\n    // if (!render) {\r\n    //   return;\r\n    // }\r\n    //临时解决方案\r\n    const { componentProps } = form.getFieldsValue();\r\n    Object.keys(keyCounter).length &&\r\n      componentProps &&\r\n      form.setFieldsValue({\r\n        componentProps,\r\n      });\r\n  }, [keyCounter]);\r\n\r\n  const initialValue: FPBItem | { [key: string]: any } =\r\n    toJS(item, { recurseEverything: true }) || {};\r\n  const { getFieldDecorator, getFieldsValue, getFieldValue } = form;\r\n  const renderTypeTreeNode = component => {\r\n    if (component.children) {\r\n      return (\r\n        <TreeNode\r\n          value={component.id}\r\n          title={component.label}\r\n          key={component.id}\r\n        >\r\n          {component.children.map(component => {\r\n            return renderTypeTreeNode(component);\r\n          })}\r\n        </TreeNode>\r\n      );\r\n    }\r\n    return (\r\n      <TreeNode\r\n        value={component.id}\r\n        title={component.label}\r\n        key={component.id}\r\n      />\r\n    );\r\n  };\r\n  // const [settingForm] = useSizeMe(size => {\r\n  //   const { width } = size;\r\n  //   return (\r\n  //     <>\r\n  //       <div></div>\r\n  //       {width && render&&(\r\n\r\n  //       )}\r\n  //     </>\r\n  //   );\r\n  // }, {});\r\n  // if (!render) {\r\n  //   return <>{/* <Spin spinning={true}/> */}</>;\r\n  // }\r\n  //组件类型\r\n  const componentTypeDec = getFieldDecorator('componentId', {\r\n    initialValue: initialValue.componentId,\r\n    //preserve: true\r\n  });\r\n  /**\r\n   * 自适应高度\r\n   */\r\n  const autoHeightDec = getFieldDecorator('autoHeight', {\r\n    valuePropName: 'checked',\r\n    initialValue: initialValue.autoHeight,\r\n    //preserve: true\r\n  });\r\n  /**\r\n   * 是否作为表单域\r\n   */\r\n  const isFormFieldDec = getFieldDecorator('isFormField', {\r\n    valuePropName: 'checked',\r\n    initialValue: initialValue.isFormField,\r\n    //preserve: true\r\n  });\r\n  /**\r\n   * 是否作为表单域id\r\n   */\r\n  const $idDec = getFieldDecorator('$id', {\r\n    initialValue: initialValue.$id,\r\n    //preserve: true\r\n  });\r\n  /**\r\n   * 是否作为表单域label\r\n   */\r\n  const labelDec = getFieldDecorator('label', {\r\n    initialValue: initialValue.label,\r\n    //preserve: true\r\n  });\r\n  const { componentId, isFormField } = getFieldsValue();\r\n  // console.log(props.flatComponents[componentId]);\r\n  const { componentProps = {}, formField } =\r\n    props.flatComponents[componentId] || {};\r\n  const sortProps = ({ destination, source }) => {\r\n    if (!destination) {\r\n      return;\r\n    }\r\n    const values = form.getFieldsValue();\r\n    const arr = get(values, destination.droppableId);\r\n    const dragValue = arr[source.index];\r\n    arr.splice(source.index, 1);\r\n    arr.splice(destination.index, 0, dragValue);\r\n    form.setFieldsValue({\r\n      componentProps: values.componentProps,\r\n    });\r\n  };\r\n  const deleteProp = (propName, index) => {\r\n    const values = getFieldsValue();\r\n    const arr = get(values, propName);\r\n    arr.splice(index, 1);\r\n    keyCounter[propName].splice(index, 1);\r\n    form.setFieldsValue({\r\n      componentProps: values.componentProps,\r\n    });\r\n    setKeyCounter({ ...keyCounter });\r\n  };\r\n  const createComponentPropsForm = (\r\n    componentProps: ComponentProps,\r\n    prefix = 'componentProps',\r\n  ) => {\r\n    const componentPropsEntries = Object.entries(componentProps);\r\n    return [\r\n      ...componentPropsEntries\r\n        .filter(([, prop]) => prop.type.indexOf('array') < 0)\r\n        .map(([name, prop], i) => {\r\n          let setting;\r\n          const propName = `${prefix}.${name}`;\r\n          const options = {\r\n            rules: prop.rules,\r\n          };\r\n          if (prop.type === 'string') {\r\n            setting = (\r\n              <Item label={prop.label} key={propName}>\r\n                {getFieldDecorator(propName, {\r\n                  initialValue: get(initialValue, propName),\r\n                  ...options,\r\n                  //preserve: true\r\n                })(<CommonInput />)}\r\n              </Item>\r\n            );\r\n          } else if (prop.type === 'FPR') {\r\n            // console.log('FPR', get(initialValue, propName));\r\n\r\n            setting = (\r\n              <Item label={prop.label} key={propName}>\r\n                {getFieldDecorator(propName, {\r\n                  initialValue: toJS(get(initialValue, propName), {\r\n                    recurseEverything: true,\r\n                  }),\r\n                  ...options,\r\n                  //preserve: true\r\n                })(<FPBForm components={props.components} />)}\r\n              </Item>\r\n            );\r\n          } else if (prop.type === 'graphql') {\r\n            setting = (\r\n              <Item label={prop.label} key={propName}>\r\n                {getFieldDecorator(propName, {\r\n                  initialValue: get(initialValue, propName),\r\n                  ...options,\r\n                  //preserve: true\r\n                })(<GraphqlEditor />)}\r\n              </Item>\r\n            );\r\n          }\r\n\r\n          return setting;\r\n        }),\r\n      <Collapse key={`settings`} accordion destroyInactivePanel={false}>\r\n        {componentPropsEntries\r\n          .filter(([, prop]) => prop.type.indexOf('array') >= 0)\r\n          .map(([name, prop], i) => {\r\n            let setting;\r\n            const propName = `${prefix}.${name}`;\r\n            let mapedArr;\r\n            mapedArr = keyCounter[propName] || [];\r\n            let renderAfterAddButtonComponent;\r\n            if (prop.type === 'array:component') {\r\n              renderAfterAddButtonComponent = (\r\n                <DragDropContext onDragEnd={sortProps}>\r\n                  <Droppable droppableId={propName}>\r\n                    {provided => {\r\n                      return (\r\n                        <div\r\n                          {...provided.droppableProps}\r\n                          ref={provided.innerRef}\r\n                        >\r\n                          {mapedArr.map((p, pi) => {\r\n                            const key = `${propName}[${pi}]`;\r\n                            return (\r\n                              <Draggable key={key} draggableId={key} index={pi}>\r\n                                {provided => {\r\n                                  return (\r\n                                    <div\r\n                                      key={key}\r\n                                      ref={provided.innerRef}\r\n                                      {...provided.draggableProps}\r\n                                      // className=\"ant-form ant-form-inline\"\r\n                                    >\r\n                                      <Card\r\n                                        style={{ margin: `5px 0` }}\r\n                                        key={`car${pi}`}\r\n                                        actions={[\r\n                                          <div {...provided.dragHandleProps}>\r\n                                            <Icon type=\"drag\" key={'drag'} />\r\n                                          </div>,\r\n                                          <Icon\r\n                                            type=\"delete\"\r\n                                            key={'delete'}\r\n                                            onClick={_ =>\r\n                                              deleteProp(propName, pi)\r\n                                            }\r\n                                          />,\r\n                                        ]}\r\n                                      >\r\n                                        {createComponentPropsForm(\r\n                                          componentProps[name].componentProps,\r\n                                          `${propName}[${pi}].componentProps`,\r\n                                        )}\r\n                                      </Card>\r\n                                    </div>\r\n                                  );\r\n                                }}\r\n                              </Draggable>\r\n                            );\r\n                          })}\r\n                          {provided.placeholder}\r\n                        </div>\r\n                      );\r\n                    }}\r\n                  </Droppable>\r\n                </DragDropContext>\r\n              );\r\n            } else if (prop.type === 'array:string') {\r\n              renderAfterAddButtonComponent = (\r\n                <DragDropContext onDragEnd={sortProps}>\r\n                  <Droppable droppableId={propName}>\r\n                    {provided => {\r\n                      return (\r\n                        <div\r\n                          {...provided.droppableProps}\r\n                          ref={provided.innerRef}\r\n                        >\r\n                          {mapedArr.map((p, pi) => {\r\n                            const key = `${propName}[${pi}]`;\r\n                            debugger;\r\n                            return (\r\n                              <Draggable key={key} draggableId={key} index={pi}>\r\n                                {provided => {\r\n                                  return (\r\n                                    <div\r\n                                      key={key}\r\n                                      ref={provided.innerRef}\r\n                                      {...provided.draggableProps}\r\n                                      className=\"ant-form ant-form-inline\"\r\n                                    >\r\n                                      <Item>\r\n                                        <div {...provided.dragHandleProps}>\r\n                                          <Icon type=\"drag\" />\r\n                                        </div>\r\n                                      </Item>\r\n                                      <Item>\r\n                                        {getFieldDecorator(key, {\r\n                                          //preserve: true,\r\n                                          initialValue: get(item, key),\r\n                                        })(<CommonInput />)}\r\n                                      </Item>\r\n                                      <Item>\r\n                                        <Icon\r\n                                          onClick={_ =>\r\n                                            deleteProp(propName, pi)\r\n                                          }\r\n                                          type=\"delete\"\r\n                                          style={{\r\n                                            color: `red`,\r\n                                            cursor: `pointer`,\r\n                                          }}\r\n                                        />\r\n                                      </Item>\r\n                                    </div>\r\n                                  );\r\n                                }}\r\n                              </Draggable>\r\n                            );\r\n                          })}\r\n                          {provided.placeholder}\r\n                        </div>\r\n                      );\r\n                    }}\r\n                  </Droppable>\r\n                </DragDropContext>\r\n              );\r\n            }\r\n            setting = (\r\n              <Panel forceRender header={prop.label} key={`setting${i}`}>\r\n                <Button\r\n                  icon=\"plus\"\r\n                  onClick={e => {\r\n                    const props = get(item, prefix) || {};\r\n                    if (!props[name]) {\r\n                      //没有则默认设置为空数组并默认添加一个\r\n                      keyCounter[propName] = [{}];\r\n                      setKeyCounter({ ...keyCounter });\r\n                      return;\r\n                    }\r\n                    //这里是有shouldHaveOne的情况，只走这里\r\n                    if (!keyCounter[propName]) {\r\n                      keyCounter[propName] = [];\r\n                    }\r\n                    keyCounter[propName].push({});\r\n                    setKeyCounter({ ...keyCounter });\r\n                  }}\r\n                >\r\n                  添加{prop.label}\r\n                </Button>\r\n                {renderAfterAddButtonComponent}\r\n              </Panel>\r\n            );\r\n\r\n            return setting;\r\n          })}\r\n      </Collapse>,\r\n    ];\r\n  };\r\n\r\n  const propsDecModels = createComponentPropsForm(componentProps);\r\n\r\n  return (\r\n    <Observer>\r\n      {() =>{\r\n        return <>\r\n        <Form {...getFormItemCol(props.parentStore.settingWidth)}>\r\n          <Collapse\r\n            accordion\r\n            defaultActiveKey={['1']}\r\n            destroyInactivePanel={false}\r\n          >\r\n            <Panel forceRender header={`基础设置`} key=\"1\">\r\n              <Row gutter={15}>\r\n                <Col {...getCol(props.parentStore.settingWidth, Size.MIDDLE)}>\r\n                  <Item label={'组件'}>\r\n                    {componentTypeDec(\r\n                      <TreeSelect\r\n                        onChange={_ => setKeyCounter({})}\r\n                        showSearch\r\n                        style={{ width: `100%` }}\r\n                        dropdownStyle={{ maxHeight: 400, overflow: 'auto' }}\r\n                        placeholder=\"请选择组件\"\r\n                        allowClear\r\n                        autoClearSearchValue\r\n                        treeDefaultExpandAll\r\n                      >\r\n                        {props.componentGroup.map(\r\n                          (groupOrComponent, index) => {\r\n                            if (groupOrComponent.id) {\r\n                              return renderTypeTreeNode(groupOrComponent);\r\n                            }\r\n                            return (\r\n                              <TreeNode\r\n                                disabled\r\n                                value={groupOrComponent['groupName']}\r\n                                title={groupOrComponent['groupName']}\r\n                                key={groupOrComponent['groupName']}\r\n                              >\r\n                                {groupOrComponent[\r\n                                  groupOrComponent['groupName']\r\n                                ].map(component => {\r\n                                  return renderTypeTreeNode(component);\r\n                                })}\r\n                              </TreeNode>\r\n                            );\r\n                          },\r\n                        )}\r\n                      </TreeSelect>,\r\n                    )}\r\n                  </Item>\r\n                </Col>\r\n                <Col {...getCol(props.parentStore.settingWidth, Size.SMALL)}>\r\n                  <Item\r\n                    label={\r\n                      <span>\r\n                        自适应高度&nbsp;\r\n                        <Tooltip title=\"开启后区块将自适应内容高度，不能进行纵向resize操作\">\r\n                          <Icon type=\"question-circle-o\" />\r\n                        </Tooltip>\r\n                      </span>\r\n                    }\r\n                  >\r\n                    {autoHeightDec(\r\n                      <Switch\r\n                        checkedChildren={'开'}\r\n                        unCheckedChildren={'关'}\r\n                      />,\r\n                    )}\r\n                  </Item>\r\n                </Col>\r\n\r\n                {formField && (\r\n                  <Fragment key=\"frag\">\r\n                    <Col {...getCol(props.parentStore.settingWidth, Size.SMALL)}>\r\n                      <Item label={'是否作为表单域'}>\r\n                        {isFormFieldDec(\r\n                          <Switch\r\n                            checkedChildren={'是'}\r\n                            unCheckedChildren={'否'}\r\n                          />,\r\n                        )}\r\n                      </Item>\r\n                    </Col>\r\n                    {isFormField && (\r\n                      <>\r\n                        <Col\r\n                          {...getCol(props.parentStore.settingWidth, Size.MIDDLE)}\r\n                        >\r\n                          <Item\r\n                            label={\r\n                              <span>\r\n                                id&nbsp;\r\n                                <Tooltip title=\"表单域传值字段，不填写默认为区块id，需保证唯一\">\r\n                                  <Icon type=\"question-circle-o\" />\r\n                                </Tooltip>\r\n                              </span>\r\n                            }\r\n                          >\r\n                            {$idDec(<CommonInput placeholder={'请填写id'} />)}\r\n                          </Item>\r\n                        </Col>\r\n                        <Col\r\n                          {...getCol(props.parentStore.settingWidth, Size.MIDDLE)}\r\n                        >\r\n                          <Item label={<span>label</span>}>\r\n                            {labelDec(<CommonInput placeholder={''} />)}\r\n                          </Item>\r\n                        </Col>\r\n                      </>\r\n                    )}\r\n                  </Fragment>\r\n                )}\r\n                {/* <Col></Col> */}\r\n              </Row>\r\n            </Panel>\r\n            {propsDecModels.length && (\r\n              <Panel forceRender header={'自定义设置'} key=\"2\">\r\n                {propsDecModels}\r\n              </Panel>\r\n            )}\r\n          </Collapse>\r\n        </Form>\r\n      </>\r\n      }}\r\n    </Observer>\r\n  );\r\n});\r\nItemSettingForm.displayName = 'ItemSettingFormObserver';\r\nexport default React.memo(\r\n  create<ItemSettingFormProps>({\r\n    onValuesChange(props, changedValues, allValues) {\r\n      const field = Object.keys(changedValues)[0];\r\n      if (!field) {\r\n        return;\r\n      }\r\n      const value = changedValues[field];\r\n      console.log('onValuesChange', field, allValues[field]);\r\n      if (field === 'componentId') {\r\n        props.onItemTypeChange(value);\r\n      } else {\r\n        props.onItemPropsChange(field, allValues[field]);\r\n      }\r\n    },\r\n    onFieldsChange(props, fields) {},\r\n  })(ItemSettingForm),\r\n);\r\n"],"file":"ItemSettingForm.js"}