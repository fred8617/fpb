{"version":3,"file":"utils.js","names":["doWindowResizeInitial","window","event","document","createEvent","initEvent","dispatchEvent","doWindowResize","findRequiredRules","componentProps","Object","entries","map","key","value","find","propName","rule","required","filter","Boolean","getObjectKeysWhenIsArray","obj","prev","returnValue","defaultPush","Array","forEach","e","i","index"],"sources":["../src/fpb/utils.ts"],"sourcesContent":["import { debounce } from 'lodash';\nlet doWindowResizeInitial = () => {\n  if (typeof window !== 'undefined') {\n    const event: Event = document.createEvent('HTMLEvents');\n    event.initEvent('resize', true, false);\n    window.dispatchEvent(event);\n  }\n};\nexport const doWindowResize = debounce(doWindowResizeInitial, 200);\n//@ts-ignore\nwindow.doWindowResize = doWindowResize;\n\nexport const findRequiredRules = componentProps => {\n  if (!componentProps) {\n    return [];\n  }\n  return Object.entries(componentProps)\n    .map(([key, value]) => {\n      if (\n        Object.entries(value).find(\n          ([propName, value]) =>\n            propName === 'rules' && value.find(rule => rule.required),\n        )\n      ) {\n        return key;\n      }\n    })\n    .filter(Boolean);\n};\n\nexport const getObjectKeysWhenIsArray = (\n  obj,\n  prev = '',\n  returnValue = {},\n  defaultPush = {},\n) => {\n  if (obj === null) {\n    return returnValue;\n  }\n  if (obj instanceof Array) {\n    returnValue[`${prev}`] = obj.map(() => defaultPush);\n    obj.forEach((e, i) => {\n      getObjectKeysWhenIsArray(e, `${prev}[${i}]`, returnValue, defaultPush);\n    });\n    return returnValue;\n  }\n  if (typeof obj === 'object') {\n    Object.entries(obj).forEach(([key, value], i) => {\n      const index = `${prev}.${key}`;\n      if (value instanceof Array) {\n        returnValue[index] = value.map(e => defaultPush);\n        getObjectKeysWhenIsArray(value, index, returnValue, defaultPush);\n        return true;\n      }\n      getObjectKeysWhenIsArray(value, index, returnValue, defaultPush);\n    });\n    return returnValue;\n  }\n};\n"],"mappings":";;;;;;;;;;;;;;;AACA,IAAIA,qBAAqB,GAAG,SAAxBA,qBAAqB,GAAS;EAChC,IAAI,OAAOC,MAAM,KAAK,WAAW,EAAE;IACjC,IAAMC,KAAY,GAAGC,QAAQ,CAACC,WAAW,CAAC,YAAY,CAAC;IACvDF,KAAK,CAACG,SAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,KAAK,CAAC;IACtCJ,MAAM,CAACK,aAAa,CAACJ,KAAK,CAAC;EAC7B;AACF,CAAC;AACM,IAAMK,cAAc,GAAG,wBAASP,qBAAqB,EAAE,GAAG,CAAC;AAClE;AAAA;AACAC,MAAM,CAACM,cAAc,GAAGA,cAAc;AAE/B,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiB,CAAGC,cAAc,EAAI;EACjD,IAAI,CAACA,cAAc,EAAE;IACnB,OAAO,EAAE;EACX;EACA,OAAOC,MAAM,CAACC,OAAO,CAACF,cAAc,CAAC,CAClCG,GAAG,CAAC,gBAAkB;IAAA;MAAhBC,GAAG;MAAEC,KAAK;IACf,IACEJ,MAAM,CAACC,OAAO,CAACG,KAAK,CAAC,CAACC,IAAI,CACxB;MAAA;QAAEC,QAAQ;QAAEF,KAAK;MAAA,OACfE,QAAQ,KAAK,OAAO,IAAIF,KAAK,CAACC,IAAI,CAAC,UAAAE,IAAI;QAAA,OAAIA,IAAI,CAACC,QAAQ;MAAA,EAAC;IAAA,EAC5D,EACD;MACA,OAAOL,GAAG;IACZ;EACF,CAAC,CAAC,CACDM,MAAM,CAACC,OAAO,CAAC;AACpB,CAAC;AAAC;AAEK,IAAMC,wBAAwB,GAAG,SAA3BA,wBAAwB,CACnCC,GAAG,EAIA;EAAA,IAHHC,IAAI,uEAAG,EAAE;EAAA,IACTC,WAAW,uEAAG,CAAC,CAAC;EAAA,IAChBC,WAAW,uEAAG,CAAC,CAAC;EAEhB,IAAIH,GAAG,KAAK,IAAI,EAAE;IAChB,OAAOE,WAAW;EACpB;EACA,IAAIF,GAAG,YAAYI,KAAK,EAAE;IACxBF,WAAW,WAAID,IAAI,EAAG,GAAGD,GAAG,CAACV,GAAG,CAAC;MAAA,OAAMa,WAAW;IAAA,EAAC;IACnDH,GAAG,CAACK,OAAO,CAAC,UAACC,CAAC,EAAEC,CAAC,EAAK;MACpBR,wBAAwB,CAACO,CAAC,YAAKL,IAAI,cAAIM,CAAC,QAAKL,WAAW,EAAEC,WAAW,CAAC;IACxE,CAAC,CAAC;IACF,OAAOD,WAAW;EACpB;EACA,IAAI,QAAOF,GAAG,MAAK,QAAQ,EAAE;IAC3BZ,MAAM,CAACC,OAAO,CAACW,GAAG,CAAC,CAACK,OAAO,CAAC,iBAAeE,CAAC,EAAK;MAAA;QAAnBhB,GAAG;QAAEC,KAAK;MACtC,IAAMgB,KAAK,aAAMP,IAAI,cAAIV,GAAG,CAAE;MAC9B,IAAIC,KAAK,YAAYY,KAAK,EAAE;QAC1BF,WAAW,CAACM,KAAK,CAAC,GAAGhB,KAAK,CAACF,GAAG,CAAC,UAAAgB,CAAC;UAAA,OAAIH,WAAW;QAAA,EAAC;QAChDJ,wBAAwB,CAACP,KAAK,EAAEgB,KAAK,EAAEN,WAAW,EAAEC,WAAW,CAAC;QAChE,OAAO,IAAI;MACb;MACAJ,wBAAwB,CAACP,KAAK,EAAEgB,KAAK,EAAEN,WAAW,EAAEC,WAAW,CAAC;IAClE,CAAC,CAAC;IACF,OAAOD,WAAW;EACpB;AACF,CAAC;AAAC"}