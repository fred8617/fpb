{"version":3,"sources":["../src/fpb/CalTag.tsx"],"names":["CalTag","width","height","store","timeout","opacity","transition","showCalTag","hideCalTag","clearTimeout","setTimeout","position","zIndex","top","left","Math","round"],"mappings":";;;;;;;;;;;AAAA;;AAEA;;;;;;;;AAUA,IAAMA,MAA8B,GAAG,SAAjCA,MAAiC,OAAuB;AAAA,MAApBC,KAAoB,QAApBA,KAAoB;AAAA,MAAbC,MAAa,QAAbA,MAAa;AAC5D,MAAMC,KAAK,GAAG,kCAAc;AAAA,WAAO;AACjCC,MAAAA,OAAO,EAAE,IADwB;AAClB;;AACf;;;AAGAC,MAAAA,OAAO,EAAE,CALwB;AAMjCC,MAAAA,UAAU,EAAE,IANqB;AAOjCC,MAAAA,UAPiC,wBAOpB;AACXJ,QAAAA,KAAK,CAACE,OAAN,GAAgB,CAAhB;AACAF,QAAAA,KAAK,CAACG,UAAN,GAAmB,IAAnB;AACD,OAVgC;AAWjCE,MAAAA,UAXiC,wBAWpB;AACXL,QAAAA,KAAK,CAACE,OAAN,GAAgB,CAAhB,CADW,CAEX;AACD;AAdgC,KAAP;AAAA,GAAd,CAAd;AAgBA,wBAAU,YAAM;AACdI,IAAAA,YAAY,CAACN,KAAK,CAACC,OAAP,CAAZ;AACAD,IAAAA,KAAK,CAACI,UAAN;AACAJ,IAAAA,KAAK,CAACC,OAAN,GAAgBM,UAAU,CAAC,YAAM;AAC/BP,MAAAA,KAAK,CAACK,UAAN;AACD,KAFyB,EAEvB,IAFuB,CAA1B;AAGD,GAND,EAMG,CAACN,MAAD,EAASD,KAAT,CANH;AAOA,SACE,6BAAC,uBAAD,QACG;AAAA,WACC;AACE,MAAA,KAAK,EAAE;AACLU,QAAAA,QAAQ,YADH;AAELC,QAAAA,MAAM,EAAE,CAFH;AAGLC,QAAAA,GAAG,EAAE,CAHA;AAILC,QAAAA,IAAI,EAAE,CAJD;AAKLR,QAAAA,UAAU,EAAEH,KAAK,CAACG,UALb;AAMLD,QAAAA,OAAO,EAAEF,KAAK,CAACE;AANV;AADT,OAUGU,IAAI,CAACC,KAAL,CAAWf,KAAX,CAVH,OAUuBc,IAAI,CAACC,KAAL,CAAWd,MAAX,CAVvB,CADD;AAAA,GADH,CADF;AAkBD,CA1CD;;eA2CeF,M","sourcesContent":["import { useLocalStore, useObserver, Observer } from \"mobx-react-lite\";\r\nimport { Tag } from \"antd\";\r\nimport { useEffect } from \"react\";\r\nimport React from \"react\";\r\n\r\ninterface CalTagProps {\r\n  /**\r\n   * 计量宽高\r\n   */\r\n  height: number;\r\n  width: number;\r\n}\r\nconst CalTag: React.SFC<CalTagProps> = ({ width, height }) => {\r\n  const store = useLocalStore(() => ({\r\n    timeout: null, //计量维度定时器\r\n    /**\r\n     * 计量维度的透明度\r\n     */\r\n    opacity: 0,\r\n    transition: null,\r\n    showCalTag() {\r\n      store.opacity = 1;\r\n      store.transition = null;\r\n    },\r\n    hideCalTag() {\r\n      store.opacity = 0;\r\n      // store.transition= `opacity .5s`;\r\n    }\r\n  }));\r\n  useEffect(() => {\r\n    clearTimeout(store.timeout);\r\n    store.showCalTag();\r\n    store.timeout = setTimeout(() => {\r\n      store.hideCalTag();\r\n    }, 1000);\r\n  }, [height, width]);\r\n  return (\r\n    <Observer>\r\n      {() => (\r\n        <Tag\r\n          style={{\r\n            position: `absolute`,\r\n            zIndex: 2,\r\n            top: 0,\r\n            left: 0,\r\n            transition: store.transition,\r\n            opacity: store.opacity\r\n          }}\r\n        >\r\n          {Math.round(width)}x{Math.round(height)}\r\n        </Tag>\r\n      )}\r\n    </Observer>\r\n  );\r\n};\r\nexport default CalTag;\r\n"],"file":"CalTag.js"}