{"version":3,"file":"CalTag.js","names":["CalTag","width","height","store","useLocalStore","timeout","opacity","transition","showCalTag","hideCalTag","useEffect","clearTimeout","setTimeout","position","zIndex","top","left","Math","round"],"sources":["../src/fpb/CalTag.tsx"],"sourcesContent":["import { useLocalStore, useObserver, Observer } from \"mobx-react-lite\";\nimport { Tag } from \"antd\";\nimport { useEffect } from \"react\";\nimport React from \"react\";\n\ninterface CalTagProps {\n  /**\n   * 计量宽高\n   */\n  height: number;\n  width: number;\n}\nconst CalTag: React.SFC<CalTagProps> = ({ width, height }) => {\n  const store = useLocalStore(() => ({\n    timeout: null, //计量维度定时器\n    /**\n     * 计量维度的透明度\n     */\n    opacity: 0,\n    transition: null,\n    showCalTag() {\n      store.opacity = 1;\n      store.transition = null;\n    },\n    hideCalTag() {\n      store.opacity = 0;\n      // store.transition= `opacity .5s`;\n    }\n  }));\n  useEffect(() => {\n    clearTimeout(store.timeout);\n    store.showCalTag();\n    store.timeout = setTimeout(() => {\n      store.hideCalTag();\n    }, 1000);\n  }, [height, width]);\n  return (\n    <Observer>\n      {() => (\n        <Tag\n          style={{\n            position: `absolute`,\n            zIndex: 2,\n            top: 0,\n            left: 0,\n            transition: store.transition,\n            opacity: store.opacity\n          }}\n        >\n          {Math.round(width)}x{Math.round(height)}\n        </Tag>\n      )}\n    </Observer>\n  );\n};\nexport default CalTag;\n"],"mappings":";;;;;;;;;AAAA;AAEA;AAAkC;AAAA;AAAA;AAUlC,IAAMA,MAA8B,GAAG,SAAjCA,MAA8B,OAA0B;EAAA,IAApBC,KAAK,QAALA,KAAK;IAAEC,MAAM,QAANA,MAAM;EACrD,IAAMC,KAAK,GAAG,IAAAC,4BAAa,EAAC;IAAA,OAAO;MACjCC,OAAO,EAAE,IAAI;MAAE;MACf;AACJ;AACA;MACIC,OAAO,EAAE,CAAC;MACVC,UAAU,EAAE,IAAI;MAChBC,UAAU,wBAAG;QACXL,KAAK,CAACG,OAAO,GAAG,CAAC;QACjBH,KAAK,CAACI,UAAU,GAAG,IAAI;MACzB,CAAC;MACDE,UAAU,wBAAG;QACXN,KAAK,CAACG,OAAO,GAAG,CAAC;QACjB;MACF;IACF,CAAC;EAAA,CAAC,CAAC;;EACH,IAAAI,gBAAS,EAAC,YAAM;IACdC,YAAY,CAACR,KAAK,CAACE,OAAO,CAAC;IAC3BF,KAAK,CAACK,UAAU,EAAE;IAClBL,KAAK,CAACE,OAAO,GAAGO,UAAU,CAAC,YAAM;MAC/BT,KAAK,CAACM,UAAU,EAAE;IACpB,CAAC,EAAE,IAAI,CAAC;EACV,CAAC,EAAE,CAACP,MAAM,EAAED,KAAK,CAAC,CAAC;EACnB,oBACE,6BAAC,uBAAQ,QACN;IAAA,oBACC;MACE,KAAK,EAAE;QACLY,QAAQ,YAAY;QACpBC,MAAM,EAAE,CAAC;QACTC,GAAG,EAAE,CAAC;QACNC,IAAI,EAAE,CAAC;QACPT,UAAU,EAAEJ,KAAK,CAACI,UAAU;QAC5BD,OAAO,EAAEH,KAAK,CAACG;MACjB;IAAE,GAEDW,IAAI,CAACC,KAAK,CAACjB,KAAK,CAAC,OAAGgB,IAAI,CAACC,KAAK,CAAChB,MAAM,CAAC,CACnC;EAAA,CACP,CACQ;AAEf,CAAC;AAAC,eACaF,MAAM;AAAA"}