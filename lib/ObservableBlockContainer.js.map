{"version":3,"file":"ObservableBlockContainer.js","names":["ObservableBlockContainer","props","hasEditingItem","store","isEditing","isEditingItem","editingItem","i","itemKey","hasBorder","border","zIndex","boxSizing","_","setEditingItem","data","deleteItem","cursor","draggableCancel"],"sources":["../src/fpb/ObservableBlockContainer.tsx"],"sourcesContent":["import React from 'react';\nimport { Popover, Form, Button } from 'antd';\nimport { FPBStore, FPBItem } from './useFPBStore';\nimport { useObserver, Observer } from 'mobx-react-lite';\nexport interface ObservableBlockContainerProps {\n  /**\n   * 全局store\n   */\n  store: FPBStore;\n  /**\n   * itemkey\n   */\n  itemKey: string;\n  /**\n   * @interface FPBItem\n   */\n  data: FPBItem;\n}\nconst ObservableBlockContainer: React.SFC<ObservableBlockContainerProps> = props => {\n  return (\n    <Observer>\n      {() => {\n        const hasEditingItem = props.store.isEditing;\n        const isEditingItem =\n          props.store.editingItem &&\n          props.store.editingItem.i === props.itemKey;\n        const hasBorder = !hasEditingItem || isEditingItem;\n        const border = `1px solid ${isEditingItem ? '#e72727' : '#d3d3d3'}`;\n        return (\n          <>\n            <div\n              className=\"item-container\"\n              style={{\n                border: hasBorder ? border : null,\n                zIndex: isEditingItem ? null : 1,\n                boxSizing: isEditingItem ? 'content-box' : null,\n              }}\n            >\n              {!isEditingItem && (\n                <Popover\n                  trigger=\"contextMenu\"\n                  content={\n                    <>\n                      <Form layout=\"inline\">\n                        <Form.Item>\n                          <Button\n                            icon=\"edit\"\n                            onClick={_ => {\n                              props.store.setEditingItem(props.data);\n                            }}\n                            type=\"primary\"\n                          />\n                        </Form.Item>\n                        <Form.Item>\n                          <Button\n                            icon=\"delete\"\n                            type=\"danger\"\n                            onClick={_ => props.store.deleteItem(props.itemKey)}\n                          />\n                        </Form.Item>\n                      </Form>\n                    </>\n                  }\n                >\n                  <div className=\"function-container\" style={{cursor:props.store.draggableCancel?'not-allowed':null}}></div>\n                </Popover>\n              )}\n            </div>\n          </>\n        );\n      }}\n    </Observer>\n  );\n};\nexport default ObservableBlockContainer;\n"],"mappings":";;;;;;;;;;;;AAAA;AAGA;AAAwD;AAexD,IAAMA,wBAAkE,GAAG,SAArEA,wBAAkE,CAAGC,KAAK,EAAI;EAClF,oBACE,6BAAC,uBAAQ,QACN,YAAM;IACL,IAAMC,cAAc,GAAGD,KAAK,CAACE,KAAK,CAACC,SAAS;IAC5C,IAAMC,aAAa,GACjBJ,KAAK,CAACE,KAAK,CAACG,WAAW,IACvBL,KAAK,CAACE,KAAK,CAACG,WAAW,CAACC,CAAC,KAAKN,KAAK,CAACO,OAAO;IAC7C,IAAMC,SAAS,GAAG,CAACP,cAAc,IAAIG,aAAa;IAClD,IAAMK,MAAM,uBAAgBL,aAAa,GAAG,SAAS,GAAG,SAAS,CAAE;IACnE,oBACE,yEACE;MACE,SAAS,EAAC,gBAAgB;MAC1B,KAAK,EAAE;QACLK,MAAM,EAAED,SAAS,GAAGC,MAAM,GAAG,IAAI;QACjCC,MAAM,EAAEN,aAAa,GAAG,IAAI,GAAG,CAAC;QAChCO,SAAS,EAAEP,aAAa,GAAG,aAAa,GAAG;MAC7C;IAAE,GAED,CAACA,aAAa,iBACb;MACE,OAAO,EAAC,aAAa;MACrB,OAAO,eACL,yEACE;QAAM,MAAM,EAAC;MAAQ,gBACnB,2CAAM,IAAI,qBACR;QACE,IAAI,EAAC,MAAM;QACX,OAAO,EAAE,iBAAAQ,CAAC,EAAI;UACZZ,KAAK,CAACE,KAAK,CAACW,cAAc,CAACb,KAAK,CAACc,IAAI,CAAC;QACxC,CAAE;QACF,IAAI,EAAC;MAAS,EACd,CACQ,eACZ,2CAAM,IAAI,qBACR;QACE,IAAI,EAAC,QAAQ;QACb,IAAI,EAAC,QAAQ;QACb,OAAO,EAAE,iBAAAF,CAAC;UAAA,OAAIZ,KAAK,CAACE,KAAK,CAACa,UAAU,CAACf,KAAK,CAACO,OAAO,CAAC;QAAA;MAAC,EACpD,CACQ,CACP;IAEV,gBAED;MAAK,SAAS,EAAC,oBAAoB;MAAC,KAAK,EAAE;QAACS,MAAM,EAAChB,KAAK,CAACE,KAAK,CAACe,eAAe,GAAC,aAAa,GAAC;MAAI;IAAE,EAAO,CAE7G,CACG,CACL;EAEP,CAAC,CACQ;AAEf,CAAC;AAAC,eACalB,wBAAwB;AAAA"}