{"version":3,"sources":["../src/FPB/ObservableBlockContainer.tsx"],"names":["ObservableBlockContainer","props","hasEditingItem","store","isEditing","isEditingItem","editingItem","i","itemKey","border","zIndex","boxSizing","setEditingItem","data","deleteItem"],"mappings":"yiBAkBMA,CAAAA,wBAEL,CAAG,SAAAC,CAAK,CAAI,IACLC,CAAAA,CAAc,CAAGD,CAAK,CAACE,KAAN,CAAYC,SADxB,CAELC,CAAa,CACjBJ,CAAK,CAACE,KAAN,CAAYG,WAAZ,EAA2BL,CAAK,CAACE,KAAN,CAAYG,WAAZ,CAAwBC,CAAxB,GAA8BN,CAAK,CAACO,OAHtD,CAKLC,CAAM,qBAAgBJ,CAAa,CAAG,SAAH,CAAe,SAA5C,CALD,CAMX,MACE,8BAAC,uBAAD,MACG,iBACC,2DACE,oCACE,SAAS,CAAC,gBADZ,CAEE,KAAK,CAAE,CACLI,MAAM,CATA,CAACP,CAAD,EAAmBG,CASjB,CAAYI,CAAZ,CAAqB,IADxB,CAELC,MAAM,CAAEL,CAAa,CAAG,IAAH,CAAU,CAF1B,CAGLM,SAAS,CAAEN,CAAa,CAAG,aAAH,CAAmB,IAHtC,CAFT,EAQG,CAACA,CAAD,EACC,+CACE,OAAO,CAAC,aADV,CAEE,OAAO,CACL,0DACE,4CAAM,MAAM,CAAC,QAAb,EACE,2CAAM,IAAN,MACE,8CACE,IAAI,CAAC,MADP,CAEE,OAAO,CAAE,kBAAK,CACZJ,CAAK,CAACE,KAAN,CAAYS,cAAZ,CAA2BX,CAAK,CAACY,IAAjC,CACD,CAJH,CAKE,IAAI,CAAC,SALP,EADF,CADF,CAUE,2CAAM,IAAN,MACE,8CACE,IAAI,CAAC,QADP,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAE,yBAAKZ,CAAAA,CAAK,CAACE,KAAN,CAAYW,UAAZ,CAAuBb,CAAK,CAACO,OAA7B,CAAL,CAHX,EADF,CAVF,CADF,CAHJ,EAyBE,oCAAK,SAAS,CAAC,oBAAf,EAzBF,CATJ,CADF,CADD,CADH,CA6CH,C,UACcR,wB","sourcesContent":["import React from 'react';\r\nimport { Popover, Form, Button } from 'antd';\r\nimport { FPBStore, FPBItem } from './useFPBStore';\r\nimport { useObserver, Observer } from 'mobx-react-lite';\r\nexport interface ObservableBlockContainerProps {\r\n  /**\r\n   * 全局store\r\n   */\r\n  store: FPBStore;\r\n  /**\r\n   * itemkey\r\n   */\r\n  itemKey: string;\r\n  /**\r\n   * @interface FPBItem\r\n   */\r\n  data: FPBItem;\r\n}\r\nconst ObservableBlockContainer: React.SFC<\r\n  ObservableBlockContainerProps\r\n> = props => {\r\n  const hasEditingItem = props.store.isEditing;\r\n  const isEditingItem =\r\n    props.store.editingItem && props.store.editingItem.i === props.itemKey;\r\n  const hasBorder = !hasEditingItem || isEditingItem;\r\n  const border = `1px solid ${isEditingItem ? '#e72727' : '#d3d3d3'}`;\r\n  return (\r\n    <Observer>\r\n      {() => (\r\n        <>\r\n          <div\r\n            className=\"item-container\"\r\n            style={{\r\n              border: hasBorder ? border : null,\r\n              zIndex: isEditingItem ? null : 1,\r\n              boxSizing: isEditingItem ? 'content-box' : null,\r\n            }}\r\n          >\r\n            {!isEditingItem && (\r\n              <Popover\r\n                trigger=\"contextMenu\"\r\n                content={\r\n                  <>\r\n                    <Form layout=\"inline\">\r\n                      <Form.Item>\r\n                        <Button\r\n                          icon=\"edit\"\r\n                          onClick={_ => {\r\n                            props.store.setEditingItem(props.data);\r\n                          }}\r\n                          type=\"primary\"\r\n                        />\r\n                      </Form.Item>\r\n                      <Form.Item>\r\n                        <Button\r\n                          icon=\"delete\"\r\n                          type=\"danger\"\r\n                          onClick={_ => props.store.deleteItem(props.itemKey)}\r\n                        />\r\n                      </Form.Item>\r\n                    </Form>\r\n                  </>\r\n                }\r\n              >\r\n                <div className=\"function-container\"></div>\r\n              </Popover>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </Observer>\r\n  );\r\n};\r\nexport default ObservableBlockContainer;\r\n"],"file":"ObservableBlockContainer.js"}